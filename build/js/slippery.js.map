{"version":3,"file":"slippery.js.map","sources":["../../src/js/utils/config.js","../../src/js/components/nav.js","../../src/js/components/dots.js","../../src/js/components/autoplay.js","../../src/js/components/swipes.js","../../src/js/utils/polyfills.js","../../src/js/slippery.js"],"sourcesContent":["const config = {\n    init: true,\n    nav: true,\n    dots: true,\n    loop: false,\n    items: 1,\n    destroy: false,\n    centered: false,\n    swipes: true,\n    adaptiveHeight: false,\n    appendDots: false,\n    appendNav: false,\n    margins: 30,\n    activeSlide: 0,\n    classNames: {\n        slider: {\n            wrapper: 'slippery__wrapper',\n            item: 'slippery__item',\n            active: 'slippery__item--active',\n            prev: 'slippery__item--prev',\n        },\n        nav: {\n            block: 'slippery__nav',\n            item: 'slippery__nav-button',\n            prev: 'slippery__nav-button--prev',\n            next: 'slippery__nav-button--next',\n            disabled: 'slippery__nav-button--disabled',\n        },\n        dots: {\n            block: 'slippery__dots',\n            item: 'slippery__dots-item',\n            active: 'slippery__dots-item--active',\n        },\n    },\n    transition: {\n        type: 'linear',\n        delay: 0,\n        duration: 750,\n    },\n    callbacks: {\n        dotContent: function() {},\n        navContent: function(prev, next) {\n            prev.innerText = '‹';\n            next.innerText = '›';\n        },\n        beforeMove: function() {},\n        afterMove: function() {},\n        onResize: function() {},\n        onSwipe: function() {},\n        beforeInit: function() {},\n        afterInit: function() {},\n    },\n};\n\nexport default config;\n","/* eslint-env browser */\nexport default {\n  initNav() {\n    this.nav = {\n      block: document.createElement('div'),\n      prev: document.createElement('button'),\n      next: document.createElement('button'),\n    };\n\n    this.nav.block.classList.add(this.opts.classNames.nav.block);\n    this.nav.prev.classList.add(this.opts.classNames.nav.item);\n    this.nav.prev.classList.add(this.opts.classNames.nav.prev);\n\n    this.nav.next.classList.add(this.opts.classNames.nav.item);\n    this.nav.next.classList.add(this.opts.classNames.nav.next);\n\n    this.opts.callbacks.navContent(this.nav.prev, this.nav.next);\n\n    this.nav.prev.addEventListener('click', this.navHandler);\n    this.nav.next.addEventListener('click', this.navHandler);\n\n    this.nav.block.appendChild(this.nav.prev);\n    this.nav.block.appendChild(this.nav.next);\n\n    if (this.opts.appendNav) {\n      this.opts.appendNav.appendChild(this.nav.block);\n    } else {\n      this.block.insertBefore(this.nav.block, this.wrapper);\n    }\n\n    this.componentPush('nav');\n\n    return this;\n  },\n  updateNav() {\n    if (!this.opts.loop) {\n      if (this.activeSlide === 0) {\n        this.nav.prev.classList.add(this.opts.classNames.nav.disabled);\n      } else {\n        this.nav.prev.classList.remove(this.opts.classNames.nav.disabled);\n      }\n      if (this.activeSlide === this.slidesLength) {\n        this.nav.next.classList.add(this.opts.classNames.nav.disabled);\n      } else {\n        this.nav.next.classList.remove(this.opts.classNames.nav.disabled);\n      }\n    }\n\n    return this;\n  },\n  navHandler(ev) {\n    const target = ev.currentTarget;\n\n    if (target === this.nav.prev) this.moveTo(this.activeSlide - 1);\n\n    if (target === this.nav.next) this.moveTo(this.activeSlide + 1);\n  },\n  destroyNav() {\n    if (this.isComponentInit('nav')) {\n      this.nav.block.remove();\n      this.componentPop('nav');\n    }\n\n    return this;\n  },\n};\n","/* eslint-env browser */\nexport default {\n  initDots() {\n    this.dots = {\n      block: document.createElement('ul'),\n      items: null,\n    };\n\n    this.dots.block.classList.add(this.opts.classNames.dots.block);\n\n    for (let i = 0; i < this.slidesLength + 1; i += 1) {\n      const dot = document.createElement('li');\n      dot.classList.add(this.opts.classNames.dots.item);\n      dot.addEventListener('click', this.dotsHandler);\n      this.dots.block.appendChild(dot);\n    }\n\n    if (this.opts.appendDots) {\n      this.opts.appendDots.appendChild(this.dots.block);\n    } else {\n      this.block.appendChild(this.dots.block);\n    }\n\n    this.dots.items = this.dots.block.querySelectorAll(this.selectors.dots.item);\n\n    this.dots.items.forEach((el, index) => {\n      this.opts.callbacks.dotContent(el, index);\n    });\n\n    this.componentPush('dots');\n\n    return this;\n  },\n  destroyDots() {\n    if (this.isComponentInit('dots')) {\n      this.dots.block.remove();\n      this.componentPop('dots');\n    }\n\n    return this;\n  },\n  dotsHandler(ev) {\n    if (ev.currentTarget.classList.contains(this.opts.classNames.dots.active)) return;\n\n    const findDotIndex = [].findIndex.call(this.dots.items, el => el === ev.currentTarget);\n\n    this.dots.items[this.activeSlide].classList.remove(this.opts.classNames.dots.active);\n    ev.currentTarget.classList.add(this.opts.classNames.dots.active);\n    this.moveTo(findDotIndex);\n  },\n  updateDots() {\n    this.dots.items.forEach((el) => {\n      if (el.classList.contains(this.opts.classNames.dots.active)) {\n        el.classList.remove(this.opts.classNames.dots.active);\n      }\n    });\n\n    this.dots.items[this.activeSlide].classList.add(this.opts.classNames.dots.active);\n\n    return this;\n  },\n};\n","/* eslint-env browser */\nexport default {\n  initAutoplay(delay = this.opts.autoplay.delay) {\n    this.autoplay = {\n      interval: setInterval(() => {\n        if (this.activeSlide === this.slidesLength) {\n          if (!this.opts.loop) {\n            this.destroyAutoplay();\n            if (this.opts.nav) this.updateNav();\n            if (this.opts.dots) this.updateDots();\n            return;\n          }\n        }\n        this.moveTo(this.activeSlide + 1);\n      }, delay),\n      stop: false,\n    };\n\n    this.block.addEventListener('mouseenter', this.hoverInHandler);\n    this.block.addEventListener('mouseleave', this.hoverOutHandler);\n\n    this.componentPush('autoplay');\n\n\n    return this;\n  },\n  destroyAutoplay() {\n    if (this.isComponentInit('autoplay') > -1) {\n      clearInterval(this.autoplay.interval);\n      this.componentPop('autoplay')\n    }\n\n    this.block.removeEventListener('mouseenter', this.hoverInHandler);\n    this.block.removeEventListener('mouseleave', this.hoverOutHandler);\n\n    return this;\n  },\n  hoverInHandler() {\n    if (this.opts.autoplay.stopOnHover) {\n      this.autoplay.stop = true;\n      clearInterval(this.autoplay.interval);\n    }\n  },\n  hoverOutHandler() {\n    if (this.opts.autoplay.stopOnHover) {\n      this.autoplay.stop = false;\n      this.initAutoplay();\n    }\n  },\n};\n","export default {\n  initSwipes() {\n    this.wrapper.addEventListener('mousedown', this.touchstartHandler); // for firefox\n    this.wrapper.addEventListener('mousemove', this.touchmoveHandler);\n    this.block.addEventListener('mouseup', this.touchendHandler);\n\n    this.wrapper.addEventListener('touchstart', this.touchstartHandler);\n    this.wrapper.addEventListener('touchmove', this.touchmoveHandler);\n    this.block.addEventListener('touchend', this.touchendHandler);\n\n    this.componentPush('swipes');\n\n    return this;\n  },\n  destroySwipes() {\n    if (this.isComponentInit('swipes')) {\n      this.wrapper.removeEventListener('mousedown', this.touchstartHandler); // for firefox\n      this.wrapper.removeEventListener('mousemove', this.touchmoveHandler);\n      this.block.removeEventListener('mouseup', this.touchendHandler);\n\n      this.wrapper.removeEventListener('touchstart', this.touchstartHandler);\n      this.wrapper.removeEventListener('touchmove', this.touchmoveHandler);\n      this.block.removeEventListener('touchend', this.touchendHandler);\n\n      this.componentPop('swipes');\n    }\n\n    return this;\n  },\n  touchstartHandler(ev) {\n    ev.preventDefault();\n    this.swipe = {\n      translate: null,\n      x: 0,\n      prevX: 0,\n      start: null,\n      diff: null,\n    };\n    this.wrapper.style.cursor = 'grab';\n  },\n  touchmoveHandler(ev) {\n    ev.preventDefault();\n\n    let direction;\n    if (ev.buttons === 1) {\n      if (typeof ev.movementX !== 'undefined') {\n        if (Math.sign(ev.movementX) === 1) {\n          direction = 'right';\n        }\n        if (Math.sign(ev.movementX) === -1) {\n          direction = 'left';\n        }\n      } else {\n        if (this.swipe.start === null) {\n          this.swipe.start = ev.clientX;\n        }\n        this.swipe.prev = ev.clientX;\n        if (this.swipe.diff === null) {\n          this.swipe.diff = this.swipe.start - ev.clientX;\n        } else {\n          this.swipe.diff = this.swipe.prev - this.swipe.start;\n        }\n\n        if (Math.sign(this.swipe.diff) === 1) {\n          direction = 'right';\n        }\n        if (Math.sign(this.swipe.diff) === -1) {\n          direction = 'left';\n        }\n      }\n\n      this.swipe.translate = parseInt(this.wrapper.style.transform.match(/[\\d -]+/g).join(''), 10);\n    }\n\n    if (ev.touches) {\n      if (this.isComponentInit('autoplay') && this.opts.autoplay.stopOnHover) {\n        this.destroyAutoplay();\n      }\n      if (this.swipe.start === null) {\n        this.swipe.start = ev.touches[0].clientX;\n      }\n      this.swipe.prev = ev.touches[0].clientX;\n      if (this.swipe.diff === null) {\n        this.swipe.diff = this.swipe.start - ev.touches[0].clientX;\n      } else {\n        this.swipe.diff = this.swipe.prev - this.swipe.start;\n      }\n\n      if (Math.sign(this.swipe.diff) === 1) {\n        direction = 'right';\n      }\n      if (Math.sign(this.swipe.diff) === -1) {\n        direction = 'left';\n      }\n    }\n\n    switch (direction) {\n      case 'left':\n        if (ev.buttons === 1) {\n          if (ev.movementX) {\n            this.wrapper.style.transition = 'none';\n            this.swipe.translate -= Math.abs(ev.movementX);\n            this.wrapper.style.transform = `translateX(${this.swipe.translate}px)`;\n          } else {\n            this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide + 1, 'ltr', 'ieSwipe');\n            this.moveTo(this.activeSlide + 1);\n            this.wrapper.removeEventListener('mousemove', this.touchmoveHandler);\n            setTimeout(() => {\n              this.wrapper.addEventListener('mousemove', this.touchmoveHandler);\n            }, 700);\n          }\n        }\n        if (ev.touches) {\n          this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide + 1, 'ltr', 'touchSwipe');\n          this.moveTo(this.activeSlide + 1);\n          this.wrapper.removeEventListener('touchmove', this.touchmoveHandler);\n          setTimeout(() => {\n            this.wrapper.addEventListener('touchmove', this.touchmoveHandler);\n          }, 500);\n        }\n        break;\n      case 'right':\n        if (ev.buttons === 1) {\n          if (ev.movementX) {\n            this.wrapper.style.transition = 'none';\n            this.swipe.translate += Math.abs(ev.movementX);\n            this.wrapper.style.transform = `translateX(${this.swipe.translate}px)`;\n          } else {\n            this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide + 1, 'rtl', 'ieSwipe');\n            this.moveTo(this.activeSlide - 1);\n            this.wrapper.removeEventListener('mousemove', this.touchmoveHandler);\n            setTimeout(() => {\n              this.wrapper.addEventListener('mousemove', this.touchmoveHandler);\n            }, 700);\n          }\n        }\n        if (ev.touches) {\n          this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide - 1, 'rtl', 'touchSwipe');\n          this.moveTo(this.activeSlide - 1);\n          this.wrapper.removeEventListener('touchmove', this.touchmoveHandler);\n          setTimeout(() => {\n            this.wrapper.addEventListener('touchmove', this.touchmoveHandler);\n          }, 500);\n        }\n        break;\n      default:\n        break;\n    }\n  },\n  touchendHandler(ev) {\n    this.wrapper.style.cursor = 'default';\n\n    if (ev.type === 'mouseup') ev.preventDefault();\n\n    if (ev.touches) {\n      if (this.opts.autoplay && !this.isComponentInit('autoplay') && this.opts.autoplay.stopOnHover) {\n        this.initAutoplay();\n      }\n      return;\n    }\n\n    if (typeof ev.movementX === 'undefined') return;\n\n    if (this.swipe) {\n      if (this.swipe.translate) {\n        let slideWidth = this.slides[0].clientWidth;\n        if (this.opts.items) {\n          slideWidth *= this.opts.items;\n        }\n\n        if (this.swipe.translate > -((slideWidth * this.activeSlide) - (slideWidth / 5))) {\n          if (!this.opts.loop && this.activeSlide === 0) {\n            this.moveTo(this.activeSlide);\n            this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide, 'same', 'mouseSwipe');\n            return;\n          }\n          this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide - 1, 'rtl', 'mouseSwipe');\n          this.moveTo(this.activeSlide - 1);\n        } else if (this.swipe.translate < -((slideWidth * this.activeSlide) + (slideWidth / 5))) {\n          if (!this.opts.loop && this.activeSlide === this.slidesLength) {\n            this.moveTo(this.activeSlide);\n            this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide, 'same', 'mouseSwipe');\n            return;\n          }\n          this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide + 1, 'ltr', 'mouseSwipe');\n          this.moveTo(this.activeSlide + 1);\n        } else {\n          this.opts.callbacks.onSwipe(this.activeSlide, this.activeSlide, 'same', 'mouseSwipe');\n          this.moveTo(this.activeSlide);\n        }\n\n        this.swipe.translate = null;\n      }\n    }\n  },\n};\n","if (!Object.assign) {\n    Object.defineProperty(Object, 'assign', {\n        enumerable: false,\n        configurable: true,\n        writable: true,\n        value: function(target, firstSource) {\n            'use strict';\n            if (target === undefined || target === null) {\n                throw new TypeError('Cannot convert first argument to object');\n            }\n\n            var to = Object(target);\n            for (var i = 1; i < arguments.length; i++) {\n                var nextSource = arguments[i];\n                if (nextSource === undefined || nextSource === null) {\n                    continue;\n                }\n\n                var keysArray = Object.keys(Object(nextSource));\n                for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n                    var nextKey = keysArray[nextIndex];\n                    var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n                    if (desc !== undefined && desc.enumerable) {\n                        to[nextKey] = nextSource[nextKey];\n                    }\n                }\n            }\n            return to;\n        }\n    });\n}\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n    NodeList.prototype.forEach = function (callback, thisArg) {\n        thisArg = thisArg || window;\n        for (var i = 0; i < this.length; i++) {\n            callback.call(thisArg, this[i], i, this);\n        }\n    };\n}\n\n(function() {\n    var arr = [window.Element, window.CharacterData, window.DocumentType];\n    var args = [];\n\n    arr.forEach(function (item) {\n        if (item) {\n            args.push(item.prototype);\n        }\n    });\n\n    (function (arr) {\n        arr.forEach(function (item) {\n            if (item.hasOwnProperty('remove')) {\n                return;\n            }\n            Object.defineProperty(item, 'remove', {\n                configurable: true,\n                enumerable: true,\n                writable: true,\n                value: function remove() {\n                    this.parentNode.removeChild(this);\n                }\n            });\n        });\n    })(args);\n})();\n\nMath.sign = Math.sign || function(x) {\n    x = +x;\n    if (x === 0 || isNaN(x)) {\n        return x;\n    }\n    return x > 0 ? 1 : -1;\n}\n\nif (!Array.prototype.findIndex) {\n    Array.prototype.findIndex = function(predicate) {\n        if (this == null) {\n            throw new TypeError('Array.prototype.findIndex called on null or undefined');\n        }\n        if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function');\n        }\n        var list = Object(this);\n        var length = list.length >>> 0;\n        var thisArg = arguments[1];\n        var value;\n\n        for (var i = 0; i < length; i++) {\n            value = list[i];\n            if (predicate.call(thisArg, value, i, list)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\nif (!Array.prototype.includes) {\n    Object.defineProperty(Array.prototype, 'includes', {\n        value: function(searchElement, fromIndex) {\n\n            if (this == null) {\n                throw new TypeError('\"this\" is null or not defined');\n            }\n\n            var o = Object(this);\n            var len = o.length >>> 0;\n\n            if (len === 0) {\n                return false;\n            }\n\n            var n = fromIndex | 0;\n\n            var k = Math.max(n >= 0 ? n : len - Math.abs(n), 0);\n\n            function sameValueZero(x, y) {\n                return x === y || (typeof x === 'number' && typeof y === 'number' && isNaN(x) && isNaN(y));\n            }\n\n            while (k < len) {\n                if (sameValueZero(o[k], searchElement)) {\n                    return true;\n                }\n                k++;\n            }\n\n            return false;\n        }\n    });\n}\n","/* eslint-env browser */\nimport defaultConfig from './utils/config';\nimport nav from './components/nav';\nimport dots from './components/dots';\nimport autoplay from './components/autoplay';\nimport swipes from './components/swipes';\nimport './utils/polyfills';\n\nconst prototypes = {\n  nav,\n  dots,\n  autoplay,\n  swipes,\n};\n\nexport default class Slippery {\n  constructor(block, { ...args }) {\n    this.block = document.querySelector(block);\n    if (!this.block) return;\n    this.opts = args;\n    Slippery.applyRestOptions(defaultConfig, this.opts);\n    this.selectors = Slippery.makeSelectorsFromClassnames(this.opts.classNames);\n    this.slides = this.block.querySelectorAll(this.selectors.slider.item);\n    this.activeSlide = this.opts.activeSlide;\n    if (this.opts.centered) {\n      this.activeSlide = Math.ceil(this.slides.length / 2);\n      if (this.opts.items) {\n        this.activeSlide = Math.floor(this.activeSlide / this.opts.items);\n      }\n    }\n\n    this.components = [];\n\n    this.addMethodsFromPrototypes().boundEventHandlers();\n\n    this.resizeHandler = this.resizeHandler.bind(this);\n\n    if (this.opts.responsive) this.setResponsive(Slippery.windowWidth);\n    this.opts.callbacks.beforeInit();\n    if (this.opts.init) this.init();\n  }\n\n  get viewport() {\n    return this.wrapper.clientWidth;\n  }\n\n  get slideWidth() {\n    return this.slides[0].clientWidth;\n  }\n\n  get breakpoint() {\n    if (this.opts.responsive) {\n      return (\n        Slippery.findClosestNum(Object.keys(this.opts.responsive), Slippery.windowWidth)\n      );\n    }\n    return false;\n  }\n\n  get slidesLength() {\n    if (this.opts.items) return Math.ceil(this.slides.length / this.opts.items) - 1;\n\n    return this.slides.length - 1;\n  }\n\n  length() {\n    return this.slidesLength;\n  }\n\n  realLength() {\n    return this.slides.length - 1;\n  }\n\n  elements() {\n    return {\n      slides: this.slides,\n      nav: this.nav,\n      dots: this.dots,\n    };\n  }\n\n  current() {\n    return this.activeSlide;\n  }\n\n  appendSlide(el, index = this.realLength()) {\n    const slide = document.createElement('div');\n    slide.classList.add(this.opts.classNames.slider.item);\n    slide.appendChild(el.cloneNode(true));\n\n    if (index === this.realLength()) {\n      this.wrapper.appendChild(slide);\n    } else {\n      this.wrapper.insertBefore(slide, this.slides[index + 1]);\n    }\n\n    this.slides = this.wrapper.querySelectorAll(this.selectors.slider.item);\n\n    this.destroyDots().initDots();\n    this.set().updateControls();\n\n    return slide;\n  }\n\n  prependSlide(el, index = this.realLength()) {\n    const slide = document.createElement('div');\n    slide.classList.add(this.opts.classNames.slider.item);\n    slide.appendChild(el.cloneNode(true));\n\n    this.wrapper.insertBefore(slide, this.slides[index]);\n\n    this.slides = this.wrapper.querySelectorAll(this.selectors.slider.item);\n\n    this.destroyDots().initDots();\n    this.set().updateControls();\n\n    return slide;\n  }\n\n  removeSlide(index = this.realLength()) {\n    const before = this.slidesLength;\n    let slide = this.slides[index], after;\n\n    slide.remove();\n\n    this.slides = this.wrapper.querySelectorAll(this.selectors.slider.item);\n\n    this.destroyDots().initDots();\n    after = this.slidesLength;\n\n    if ( before !== after && this.activeSlide === before ) {\n      if (typeof this.opts.margins === 'number') this.setMargins();\n      this.setSlidesWidth().moveTo(this.activeSlide - 1);\n      return slide;\n    }\n    this.updateControls();\n\n    return slide;\n  }\n\n  setSlidesHeight() {\n    if (this.opts.items - 1) {\n      let heights = [], biggestHeight;\n      this.slides.forEach((el, index) => {\n        if (this.activeSlide === 0) {\n          if (index <= this.opts.items - 1) heights.push(el.clientHeight);\n        }\n        if (index >= (this.activeSlide + 1) * this.opts.items - this.opts.items\n          && index < (this.activeSlide + 1) * this.opts.items) {\n          heights.push(el.clientHeight);\n        }\n      });\n\n      biggestHeight = Math.max.apply(null, heights);\n      this.block.style.height = `${biggestHeight}px`;\n    } else {\n      this.block.style.height = `${this.slides[this.activeSlide].clientHeight}px`;\n    }\n\n    return this;\n  }\n\n  isComponentInit(componentName) {\n    const index = this.components.indexOf(componentName);\n\n    return index !== -1;\n  }\n\n  componentPush(componentName) {\n    this.components.push(componentName);\n    return this;\n  }\n\n  componentPop(componentName) {\n    const index = this.components.indexOf(componentName);\n    this.components.splice(index, 1);\n    return this;\n  }\n\n  addMethodsFromPrototypes() {\n    Object.keys(prototypes).forEach((group) => {\n      Object.keys(prototypes[group]).forEach((method) => {\n        if (!Slippery.prototype[method]) {\n          Slippery.prototype[method] = prototypes[group][method];\n        }\n      });\n    });\n\n    return this;\n  }\n\n  boundEventHandlers() {\n    Object.keys(Slippery.prototype).filter(method => method.toLowerCase().match('handler')).forEach((handler) => {\n      this[handler] = this[handler].bind(this);\n    });\n\n    return this;\n  }\n\n  init() {\n    window.addEventListener('resize', this.resizeHandler);\n    this.defaultOpts = Slippery.deepCloneObject(this.opts);\n    this.initWrapper().set().initModules().updateControls();\n\n    this.opts.callbacks.afterInit();\n\n    return this;\n  }\n\n  set() {\n    if (typeof this.opts.margins === 'number') this.setMargins();\n\n    this.setSlidesWidth().moveTo(this.activeSlide, false);\n\n    return this;\n  }\n\n  destroy() {\n    this.destroyModules().destroyWrapper();\n    window.removeEventListener('resize', this.resizeHandler);\n\n    this.slides.forEach((el) => {\n      el.removeAttribute('style');\n    });\n  }\n\n  initModules() {\n    if (this.opts.dots) this.initDots();\n    if (this.opts.nav) this.initNav();\n    if (this.opts.autoplay) this.initAutoplay();\n    if (this.opts.swipes) this.initSwipes();\n\n    return this;\n  }\n\n  updateControls() {\n    if (this.isComponentInit('dots')) this.updateDots();\n    if (this.isComponentInit('nav')) this.updateNav();\n\n    return this;\n  }\n\n  destroyModules() {\n    if (this.isComponentInit('dots')) this.destroyDots();\n    if (this.isComponentInit('nav')) this.destroyNav();\n    if (this.isComponentInit('autoplay')) this.destroyAutoplay();\n    if (this.isComponentInit('swipes')) this.destroySwipes();\n\n    return this;\n  }\n\n  setMargins() {\n    this.slides.forEach((el) => {\n      const slide = el;\n      slide.style.marginLeft = `${this.opts.margins}px`;\n    });\n    this.wrapper.style.marginLeft = `-${this.opts.margins / 2}px`;\n    return this;\n  }\n\n  setResponsive(windowWidth) {\n    const { breakpoint } = this;\n\n    if (windowWidth < breakpoint) {\n      Object.keys(this.opts.responsive[breakpoint]).forEach((prop) => {\n        this.opts[prop] = this.opts.responsive[breakpoint][prop];\n      });\n    }\n    return this;\n  }\n\n  applyResponsive() {\n    if (this.opts.destroy) {\n      this.destroy();\n      return this;\n    }\n    if (this.components.length === 0) {\n      this.init();\n    }\n    this.destroyModules().initModules().updateControls().set();\n    return this;\n  }\n\n  setDefault() {\n    Object.keys(this.defaultOpts).forEach((prop) => {\n      if (prop === 'responsive') return;\n\n      this.opts[prop] = this.defaultOpts[prop];\n    });\n\n    return this;\n  }\n\n  resizeHandler() {\n    const width = Slippery.windowWidth;\n    const { viewport, breakpoint } = this;\n\n    this.setSlidesWidth().moveTo(this.activeSlide, false);\n\n    if (this.opts.responsive) {\n      if (width < breakpoint) {\n        this.setDefault().setResponsive(width).applyResponsive();\n        this.opts.callbacks.onResize(width, viewport, breakpoint);\n      } else {\n        this.setDefault().set().applyResponsive();\n        this.opts.callbacks.onResize(width, viewport, false);\n      }\n    } else {\n      this.opts.callbacks.onResize(width, viewport, false);\n    }\n  }\n\n  initWrapper() {\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add(this.opts.classNames.slider.wrapper);\n\n    this.slides.forEach((el) => {\n      this.wrapper.appendChild(el);\n    });\n\n    this.slides = this.wrapper.querySelectorAll(this.selectors.slider.item);\n    this.block.appendChild(this.wrapper);\n\n    return this;\n  }\n\n  destroyWrapper() {\n    this.slides.forEach((el) => {\n      this.block.appendChild(el);\n    });\n\n    this.wrapper.remove();\n\n    return this;\n  }\n\n  loop(nextIndex) {\n    if (nextIndex === -1) {\n      this.activeSlide = this.slidesLength;\n    } else if (nextIndex === this.slidesLength + 1) {\n      this.activeSlide = 0;\n    } else {\n      this.activeSlide = nextIndex;\n    }\n  }\n\n  setSlidesWidth() {\n    let { viewport } = this;\n    if (this.opts.items) viewport /= this.opts.items;\n\n    if (this.opts.margins) viewport -= this.opts.margins;\n\n    this.slides.forEach((el) => {\n      const slide = el;\n      slide.style.width = `${viewport}px`;\n    });\n\n    return this;\n  }\n\n  setTranslate() {\n    this.wrapper.style.transform = `translateX(-${((this.slideWidth + this.opts.margins) * this.activeSlide) * this.opts.items}px)`;\n    return this;\n  }\n\n  setSlidesClassNames(prevIndex, nextIndex) {\n    this.slides.forEach((el) => {\n      const slide = el;\n      slide.classList.remove(this.opts.classNames.slider.prev);\n    });\n    if ( this.opts.loop ) {\n      if (nextIndex === -1) {\n        if (this.slides[prevIndex]) {\n          this.slides[prevIndex].classList.remove(this.opts.classNames.slider.active);\n          this.slides[prevIndex].classList.add(this.opts.classNames.slider.prev);\n        }\n\n        this.slides[this.slidesLength * this.opts.items].classList.add(this.opts.classNames.slider.active);\n        return;\n      }\n      if (nextIndex === this.slidesLength + 1) {\n        if (this.slides[this.slidesLength * this.opts.items]) {\n          this.slides[this.slidesLength * this.opts.items].classList.remove(this.opts.classNames.slider.active);\n          this.slides[this.slidesLength * this.opts.items].classList.add(this.opts.classNames.slider.prev);\n        }\n        this.slides[0].classList.add(this.opts.classNames.slider.active);\n        return;\n      }\n    }\n    this.slides[nextIndex * this.opts.items].classList.add(this.opts.classNames.slider.active);\n    if (prevIndex !== nextIndex) {\n      if (this.slides[prevIndex * this.opts.items]) {\n        this.slides[prevIndex * this.opts.items].classList.add(this.opts.classNames.slider.prev);\n        this.slides[prevIndex * this.opts.items].classList.remove(this.opts.classNames.slider.active);\n      }\n    }\n\n    return this;\n  }\n\n  moveTo(index, transition = true) {\n    const { type, duration, delay } = this.opts.transition;\n    if ((index > this.slidesLength || index < 0) && !this.opts.loop) return;\n    this.opts.callbacks.beforeMove(this.activeSlide, index);\n\n    this.setSlidesClassNames(this.activeSlide, index);\n\n    if (this.opts.loop) this.loop(index);\n    else this.activeSlide = index;\n\n    if (transition) this.wrapper.style.transition = `transform ${duration}ms ${type} ${delay}ms`;\n    else this.wrapper.style.transition = '';\n\n    this.setTranslate().updateControls();\n\n    if (this.opts.autoplay && this.activeSlide === this.slidesLength) {\n      clearInterval(this.autoplay.interval);\n      if (!this.autoplay.stop) this.initAutoplay();\n    }\n\n    if (this.opts.adaptiveHeight) {\n      this.setSlidesHeight();\n    }\n\n    this.opts.callbacks.afterMove(this.activeSlide);\n  }\n\n  static deepCloneObject(source) {\n    const clone = {};\n\n    Object.keys(source).forEach((prop) => {\n      if (source[prop] !== null && typeof (source[prop]) === 'object') {\n        clone[prop] = Slippery.deepCloneObject(source[prop]);\n      } else {\n        clone[prop] = source[prop];\n      }\n    });\n    return clone;\n  }\n\n  static applyRestOptions(source, target) {\n    if (typeof source !== 'object') return; // for ie11\n\n    Object.keys(source).forEach((prop) => {\n      if (typeof target[prop] === 'undefined') target[prop] = source[prop];\n\n      if (typeof source === 'object') Slippery.applyRestOptions(source[prop], target[prop]);\n    });\n  }\n\n  static findClosestNum(array, num) {\n    return array.reduce((prev, curr) => (prev < num && num > prev ? curr : prev));\n  }\n\n  static makeSelectorsFromClassnames(classNames) {\n    const selectors = JSON.parse(JSON.stringify(classNames));\n\n    function findStringAndAddDotToIt(obj) {\n      Object.keys(obj).forEach((prop) => {\n        if (typeof obj[prop] === 'object') return findStringAndAddDotToIt(obj[prop]);\n\n        if (typeof obj[prop] === 'string') obj[prop] = `.${obj[prop]}`;\n      });\n    }\n\n    findStringAndAddDotToIt(selectors);\n\n    return selectors;\n  }\n\n  static get windowWidth() {\n    return window.innerWidth;\n  }\n}\n"],"names":["config","init","nav","dots","loop","items","destroy","centered","swipes","adaptiveHeight","appendDots","appendNav","margins","activeSlide","classNames","slider","wrapper","item","active","prev","block","next","disabled","transition","type","delay","duration","callbacks","dotContent","navContent","innerText","beforeMove","afterMove","onResize","onSwipe","beforeInit","afterInit","initNav","document","createElement","classList","add","opts","addEventListener","navHandler","appendChild","insertBefore","componentPush","updateNav","remove","slidesLength","ev","target","currentTarget","moveTo","destroyNav","isComponentInit","componentPop","initDots","i","dot","dotsHandler","querySelectorAll","selectors","forEach","el","index","destroyDots","contains","findDotIndex","findIndex","call","updateDots","initAutoplay","autoplay","interval","setInterval","destroyAutoplay","stop","hoverInHandler","hoverOutHandler","clearInterval","removeEventListener","stopOnHover","initSwipes","touchstartHandler","touchmoveHandler","touchendHandler","destroySwipes","preventDefault","swipe","translate","x","prevX","start","diff","style","cursor","direction","buttons","movementX","Math","sign","clientX","parseInt","transform","match","join","touches","abs","setTimeout","slideWidth","slides","clientWidth","Object","assign","defineProperty","enumerable","configurable","writable","value","firstSource","undefined","TypeError","to","arguments","length","nextSource","keysArray","keys","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","window","NodeList","prototype","callback","thisArg","arr","Element","CharacterData","DocumentType","args","push","hasOwnProperty","parentNode","removeChild","isNaN","Array","predicate","list","includes","searchElement","fromIndex","o","n","k","max","sameValueZero","y","prototypes","Slippery","querySelector","applyRestOptions","defaultConfig","makeSelectorsFromClassnames","ceil","floor","components","addMethodsFromPrototypes","boundEventHandlers","resizeHandler","bind","responsive","setResponsive","windowWidth","realLength","slide","cloneNode","set","updateControls","before","after","setMargins","setSlidesWidth","heights","biggestHeight","clientHeight","apply","height","componentName","indexOf","splice","group","method","filter","toLowerCase","handler","defaultOpts","deepCloneObject","initWrapper","initModules","destroyModules","destroyWrapper","removeAttribute","marginLeft","breakpoint","prop","width","viewport","setDefault","applyResponsive","prevIndex","setSlidesClassNames","setTranslate","setSlidesHeight","findClosestNum","source","clone","array","num","reduce","curr","JSON","parse","stringify","findStringAndAddDotToIt","obj","innerWidth"],"mappings":"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"}